<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mastering Slackbots | Interactive Crash Course</title>
    <style>
        :root {
            /* Slack-inspired color palette */
            --slack-bg: #3F0E40;
            --slack-sidebar-text: #CFBCCD;
            --slack-sidebar-hover: #350d36;
            --slack-active: #1164A3;
            --slack-text: #1D1C1D;
            --slack-text-light: #616061;
            --slack-border: #DDDDDD;
            --slack-bg-light: #F8F8F8;
            --slack-green: #2BAC76;
            --slack-red: #E01E5A;
            --slack-yellow: #ECB22E;
            --radius: 8px;
            --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family);
            color: var(--slack-text);
            background-color: var(--slack-bg-light);
            display: flex;
            height: 100vh;
            overflow: hidden;
            line-height: 1.6;
        }

        /* Layout */
        .sidebar {
            width: 260px;
            background-color: var(--slack-bg);
            color: var(--slack-sidebar-text);
            display: flex;
            flex-direction: column;
            padding: 20px 0;
            flex-shrink: 0;
            transition: transform 0.3s ease;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            background-color: #fff;
            position: relative;
        }

        /* Sidebar Styling */
        .workspace-name {
            color: white;
            font-weight: 900;
            font-size: 1.2rem;
            padding: 0 20px 20px 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-item {
            padding: 8px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0.8;
            transition: all 0.2s;
        }

        .nav-item:hover {
            background-color: var(--slack-sidebar-hover);
            opacity: 1;
        }

        .nav-item.active {
            background-color: var(--slack-active);
            color: white;
            opacity: 1;
        }

        .section-title {
            padding: 15px 20px 5px 20px;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: bold;
            color: var(--slack-sidebar-text);
        }

        /* Content Sections */
        .lesson-section {
            display: none;
            padding: 40px;
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
            animation: fadeIn 0.4s ease;
        }

        .lesson-section.active {
            display: block;
        }

        h1 { font-size: 2.2rem; margin-bottom: 15px; color: var(--slack-text); }
        h2 { font-size: 1.5rem; margin: 30px 0 15px 0; padding-bottom: 10px; border-bottom: 1px solid var(--slack-border); }
        p { margin-bottom: 15px; font-size: 1.05rem; }
        
        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .card {
            border: 1px solid var(--slack-border);
            border-radius: var(--radius);
            padding: 20px;
            background: #fff;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .card h3 { margin-bottom: 10px; color: var(--slack-active); display: flex; align-items: center; gap: 8px;}
        .card code { background: var(--slack-bg-light); padding: 2px 6px; border-radius: 4px; font-size: 0.9em; border: 1px solid var(--slack-border);}

        /* Interactive Slack UI */
        .slack-mockup {
            border: 1px solid var(--slack-border);
            border-radius: var(--radius);
            display: flex;
            flex-direction: column;
            height: 500px;
            background: #fff;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            margin-top: 30px;
        }

        .slack-header {
            padding: 15px 20px;
            border-bottom: 1px solid var(--slack-border);
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
            background: #fff;
        }

        .slack-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
            background: #fff;
        }

        .message {
            display: flex;
            gap: 12px;
            animation: slideIn 0.3s ease;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 4px;
            background-color: var(--slack-active);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            flex-shrink: 0;
            overflow: hidden;
        }

        .avatar.bot-avatar { background-color: var(--slack-bg); }
        .avatar.user-avatar { background-color: var(--slack-green); }

        .msg-content { flex: 1; }
        .msg-header { display: flex; align-items: baseline; gap: 8px; margin-bottom: 4px; }
        .msg-name { font-weight: 900; font-size: 1rem; }
        .msg-time { font-size: 0.8rem; color: var(--slack-text-light); }
        .msg-app-badge {
            background: var(--slack-bg-light);
            font-size: 0.7rem;
            padding: 1px 4px;
            border-radius: 3px;
            color: var(--slack-text-light);
            border: 1px solid var(--slack-border);
            font-weight: bold;
        }
        .msg-text { font-size: 0.95rem; }

        .slack-input-area {
            padding: 20px;
            background: #fff;
        }

        .slack-input-container {
            border: 1px solid var(--slack-text-light);
            border-radius: var(--radius);
            padding: 10px 15px;
            display: flex;
            align-items: center;
            transition: box-shadow 0.2s;
        }

        .slack-input-container:focus-within {
            box-shadow: 0 0 0 1px var(--slack-active), 0 0 0 4px rgba(17, 100, 163, 0.1);
            border-color: var(--slack-active);
        }

        .slack-input-container input {
            border: none;
            outline: none;
            width: 100%;
            font-size: 1rem;
            background: transparent;
        }

        .send-btn {
            background: var(--slack-green);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 6px 12px;
            cursor: pointer;
            font-weight: bold;
            margin-left: 10px;
            transition: background 0.2s;
        }
        
        .send-btn:hover { background: #228b60; }
        .send-btn:disabled { background: var(--slack-border); cursor: not-allowed; }

        /* Typing indicator */
        .typing-indicator {
            display: none;
            gap: 4px;
            padding: 10px 0;
            align-items: center;
            font-size: 0.85rem;
            color: var(--slack-text-light);
            font-style: italic;
        }
        .typing-indicator.active { display: flex; }
        .dot { width: 6px; height: 6px; background: var(--slack-text-light); border-radius: 50%; animation: bounce 1.4s infinite ease-in-out both; }
        .dot:nth-child(1) { animation-delay: -0.32s; }
        .dot:nth-child(2) { animation-delay: -0.16s; }

        /* Quiz UI */
        .quiz-container {
            background: #fff;
            border: 1px solid var(--slack-border);
            border-radius: var(--radius);
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            margin-top: 20px;
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-weight: bold;
            color: var(--slack-text-light);
        }

        .question-text {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-btn {
            padding: 15px 20px;
            border: 1px solid var(--slack-border);
            border-radius: var(--radius);
            background: white;
            text-align: left;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .option-btn:hover:not(:disabled) {
            border-color: var(--slack-active);
            background: rgba(17, 100, 163, 0.05);
        }

        .option-btn.correct { background: #e8f5e9; border-color: var(--slack-green); color: #1b5e20; }
        .option-btn.wrong { background: #ffebee; border-color: var(--slack-red); color: #b71c1c; }
        
        .quiz-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: var(--radius);
            display: none;
            font-weight: bold;
        }
        
        .next-btn {
            margin-top: 20px;
            background: var(--slack-active);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            display: none;
        }

        /* Tutorial Steps */
        .step {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            position: relative;
        }

        .step:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 23px;
            top: 48px;
            bottom: -30px;
            width: 2px;
            background: var(--slack-border);
        }

        .step-number {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--slack-active);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
            padding-top: 4px;
        }

        .step-content h3 {
            font-size: 1.15rem;
            margin-bottom: 8px;
            color: var(--slack-text);
        }

        .step-content p {
            font-size: 0.95rem;
            margin-bottom: 10px;
        }

        .code-block {
            background: #1e1e2e;
            color: #cdd6f4;
            border-radius: var(--radius);
            padding: 16px 20px;
            font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
            font-size: 0.85rem;
            line-height: 1.7;
            overflow-x: auto;
            margin: 10px 0;
            position: relative;
        }

        .code-block .comment { color: #6c7086; }
        .code-block .keyword { color: #cba6f7; }
        .code-block .string { color: #a6e3a1; }
        .code-block .func { color: #89b4fa; }
        .code-block .prop { color: #f9e2af; }
        .code-block .tag { color: #f38ba8; }

        .code-label {
            position: absolute;
            top: 8px;
            right: 12px;
            font-size: 0.7rem;
            color: #6c7086;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .info-box {
            background: #e0f2fe;
            border-left: 4px solid var(--slack-active);
            padding: 15px 20px;
            border-radius: 0 var(--radius) var(--radius) 0;
            margin: 15px 0;
            font-size: 0.95rem;
        }

        .info-box strong { color: var(--slack-active); }

        .warning-box {
            background: #fff8e1;
            border-left: 4px solid var(--slack-yellow);
            padding: 15px 20px;
            border-radius: 0 var(--radius) var(--radius) 0;
            margin: 15px 0;
            font-size: 0.95rem;
        }

        .warning-box strong { color: #e65100; }

        .scope-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }

        .scope-table th {
            background: var(--slack-bg);
            color: white;
            padding: 10px 15px;
            text-align: left;
        }

        .scope-table td {
            padding: 10px 15px;
            border-bottom: 1px solid var(--slack-border);
        }

        .scope-table tr:hover td {
            background: var(--slack-bg-light);
        }

        .scope-table code {
            background: var(--slack-bg-light);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.85em;
            border: 1px solid var(--slack-border);
        }

        /* Utils & Animations */
        .pill { background: #e0f2fe; color: #0284c7; padding: 2px 8px; border-radius: 12px; font-size: 0.8rem; font-weight: bold; }
        .flex-between { display: flex; justify-content: space-between; align-items: center; }
        
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideIn { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: translateX(0); } }
        @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }

        /* Mobile Nav Toggle */
        .mobile-nav-toggle {
            display: none;
            position: absolute;
            top: 15px;
            left: 15px;
            z-index: 100;
            background: var(--slack-bg);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 4px;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .mobile-nav-toggle { display: block; }
            .sidebar {
                position: absolute;
                z-index: 90;
                height: 100%;
                transform: translateX(-100%);
            }
            .sidebar.open { transform: translateX(0); }
            .lesson-section { padding: 60px 20px 20px 20px; }
        }

        /* SVG Icons */
        svg { width: 18px; height: 18px; fill: currentColor; }
    </style>
</head>
<body>

    <!-- Mobile Nav Button -->
    <button class="mobile-nav-toggle" id="mobile-toggle">
        <svg viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
    </button>

    <!-- Sidebar Navigation -->
    <nav class="sidebar" id="sidebar">
        <div class="workspace-name">
            <svg viewBox="0 0 24 24" style="width: 24px; height: 24px;">
                <path d="M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.523-2.522v-2.522h2.523zM15.165 17.688a2.527 2.527 0 0 1-2.523-2.523 2.526 2.526 0 0 1 2.523-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"/>
            </svg>
            Bot Academy
        </div>
        
        <div class="section-title">Course Modules</div>
        <div class="nav-item active" data-target="lesson-1">
            <svg viewBox="0 0 24 24"><path d="M12 2L2 22h20L12 2zm0 3.83L18.17 19H5.83L12 5.83zM11 16h2v2h-2v-2zm0-7h2v5h-2V9z"/></svg>
            1. Introduction
        </div>
        <div class="nav-item" data-target="lesson-2">
            <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7v-7zm4-3h2v10h-2V7zm4 6h2v4h-2v-4z"/></svg>
            2. Bot Architecture
        </div>
        <div class="nav-item" data-target="lesson-3">
            <svg viewBox="0 0 24 24"><path d="M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7l-2 3v1h8v-1l-2-3h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H3V4h18v12zM5 11h14v2H5zm0-4h14v2H5z"/></svg>
            3. Interactive Lab
        </div>
        <div class="nav-item" data-target="lesson-4">
            <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
            4. Knowledge Check
        </div>
        <div class="nav-item" data-target="lesson-5">
            <svg viewBox="0 0 24 24"><path d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3zm6.82 6L12 12.72 5.18 9 12 5.28 18.82 9zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73v3.72z"/></svg>
            5. Hands-on Tutorial
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="main-content">
        
        <!-- Lesson 1: Introduction -->
        <section id="lesson-1" class="lesson-section active">
            <h1>Welcome to Slackbots 101</h1>
            <p>Slackbots are programs that act like users within a Slack workspace. They can automate tasks, fetch data from external services, and interact with your team through natural conversation or interactive UI elements.</p>
            
            <h2>Why Build a Slackbot?</h2>
            <div class="card-grid">
                <div class="card">
                    <h3><span class="pill">1</span> Automation</h3>
                    <p>Automate repetitive tasks like daily standups, deployment notifications, or welcoming new users to a channel.</p>
                </div>
                <div class="card">
                    <h3><span class="pill">2</span> Integration</h3>
                    <p>Bring external tools (like Jira, GitHub, or internal dashboards) directly into the platform where your team already communicates.</p>
                </div>
                <div class="card">
                    <h3><span class="pill">3</span> Culture</h3>
                    <p>Create fun, engaging experiences for your team. From simple `/joke` commands to complex team-building trivia bots.</p>
                </div>
            </div>
        </section>

        <!-- Lesson 2: Architecture -->
        <section id="lesson-2" class="lesson-section">
            <h1>How Slackbots Work</h1>
            <p>Modern Slack apps are built on a series of APIs provided by Slack. Depending on what you want your bot to do, you'll use different methods of communication.</p>

            <h2>Core Concepts</h2>
            <div class="card-grid">
                <div class="card">
                    <h3>Incoming Webhooks</h3>
                    <p>The simplest way to send a message. You give Slack a payload (JSON), and it posts a message to a specific channel. It's a <strong>one-way street</strong> (App ‚ûî Slack).</p>
                    <code style="display:block; margin-top:10px;">POST https://hooks.slack.com/...</code>
                </div>
                <div class="card">
                    <h3>Slash Commands</h3>
                    <p>Users type commands like <code>/weather london</code>. Slack sends an HTTP POST to your server with the details, and your server replies with the result.</p>
                </div>
                <div class="card">
                    <h3>Events API</h3>
                    <p>The core of conversational bots. You subscribe to specific events (e.g., "message in channel", "user joined"). Slack pushes these events to your server in real-time.</p>
                </div>
            </div>
            
            <h2>Security & Scopes</h2>
            <p>Slack uses an OAuth 2.0 flow. Bots operate using <strong>scopes</strong>. Instead of having blanket access, you must request specific permissions like <code>chat:write</code> (to send messages) or <code>channels:history</code> (to read messages).</p>
        </section>

        <!-- Lesson 3: Interactive Lab -->
        <section id="lesson-3" class="lesson-section">
            <h1>Interactive Lab</h1>
            <p>Experience how a bot responds to events and commands. This simulator mimics an active Slack channel. Try typing different slash commands or conversational triggers!</p>
            
            <p><strong>Available triggers:</strong> <code>/ping</code>, <code>/joke</code>, <code>hello</code>, <code>help</code></p>

            <div class="slack-mockup">
                <div class="slack-header">
                    <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7v-7zm4-3h2v10h-2V7zm4 6h2v4h-2v-4z"/></svg>
                    # bot-testing-ground
                </div>
                
                <div class="slack-messages" id="chat-messages">
                    <!-- Initial Welcome Message -->
                    <div class="message">
                        <div class="avatar bot-avatar">
                            <svg viewBox="0 0 24 24" style="fill:white;"><path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-1v1a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2v-1H5a2 2 0 0 1-2-2 2 2 0 0 1 2-2h1a7 7 0 0 1 7-7h1V5.73A2 2 0 0 1 12 2zm-3 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm6 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg>
                        </div>
                        <div class="msg-content">
                            <div class="msg-header">
                                <span class="msg-name">TutorialBot</span>
                                <span class="msg-app-badge">APP</span>
                                <span class="msg-time">Just now</span>
                            </div>
                            <div class="msg-text">
                                Hello! I'm online and listening to this channel via the Events API. Try typing <code>hello</code> or test a slash command like <code>/joke</code>.
                            </div>
                        </div>
                    </div>
                </div>

                <div class="typing-indicator" id="typing-indicator">
                    <span>TutorialBot is typing</span>
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>

                <div class="slack-input-area">
                    <div class="slack-input-container">
                        <input type="text" id="chat-input" placeholder="Message #bot-testing-ground" autocomplete="off">
                        <button class="send-btn" id="send-btn">
                            <svg viewBox="0 0 24 24"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/></svg>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Lesson 4: Knowledge Check -->
        <section id="lesson-4" class="lesson-section">
            <h1>Knowledge Check</h1>
            <p>Let's see what you've learned about building integrations for Slack.</p>

            <div class="quiz-container">
                <div class="quiz-header">
                    <span>Question <span id="q-current">1</span> of <span id="q-total">3</span></span>
                    <span>Score: <span id="q-score">0</span></span>
                </div>
                
                <div id="quiz-content">
                    <div class="question-text" id="question-text">Loading question...</div>
                    <div class="options-container" id="options-container">
                        <!-- Options injected by JS -->
                    </div>
                </div>

                <div class="quiz-feedback" id="quiz-feedback"></div>
                <button class="next-btn" id="next-btn">Next Question</button>
            </div>
        </section>

        <!-- Lesson 5: Hands-on Tutorial -->
        <section id="lesson-5" class="lesson-section">
            <h1>Build & Deploy Your Own Slackbot</h1>
            <p>Follow this step-by-step guide to create a fully functional Slackbot and integrate it into your professional Slack workspace. By the end, your bot will be live and responding to messages.</p>

            <h2>Step 1 &mdash; Create a Slack App</h2>
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h3>Go to the Slack API portal</h3>
                    <p>Navigate to <a href="https://api.slack.com/apps" target="_blank" style="color:var(--slack-active);font-weight:bold;">api.slack.com/apps</a> and sign in with your professional Slack account.</p>
                </div>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h3>Create a new application</h3>
                    <p>Click <strong>Create New App</strong>, then choose <strong>From scratch</strong>. Give your app a name (e.g. <code>TeamBot</code>) and select the workspace where you want to develop.</p>
                    <div class="info-box">
                        <strong>Tip:</strong> If you don't have admin access, ask a workspace admin to enable app development, or use a test workspace first.
                    </div>
                </div>
            </div>

            <h2>Step 2 &mdash; Configure Bot Permissions (Scopes)</h2>
            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h3>Navigate to OAuth &amp; Permissions</h3>
                    <p>In the left sidebar of your app settings, click <strong>OAuth &amp; Permissions</strong>. Scroll down to the <strong>Scopes</strong> section and add scopes under <strong>Bot Token Scopes</strong>.</p>
                    
                    <table class="scope-table">
                        <thead>
                            <tr>
                                <th>Scope</th>
                                <th>What it allows</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>chat:write</code></td>
                                <td>Send messages as the bot</td>
                            </tr>
                            <tr>
                                <td><code>chat:write.public</code></td>
                                <td>Post in public channels without joining them</td>
                            </tr>
                            <tr>
                                <td><code>channels:read</code></td>
                                <td>View basic info about public channels</td>
                            </tr>
                            <tr>
                                <td><code>channels:history</code></td>
                                <td>Read messages in public channels the bot is in</td>
                            </tr>
                            <tr>
                                <td><code>commands</code></td>
                                <td>Register and respond to slash commands</td>
                            </tr>
                            <tr>
                                <td><code>app_mentions:read</code></td>
                                <td>React when someone @mentions the bot</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="warning-box">
                        <strong>Security:</strong> Only request the scopes your bot actually needs. In a professional workspace, overly broad permissions can be a red flag for admins reviewing your app.
                    </div>
                </div>
            </div>

            <h2>Step 3 &mdash; Install the App to Your Workspace</h2>
            <div class="step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <h3>Install and authorize</h3>
                    <p>Go back to <strong>Basic Information</strong>, then click <strong>Install to Workspace</strong>. Review the permissions and click <strong>Allow</strong>. Slack will redirect you back to your app settings.</p>
                    <p>After installation, go to <strong>OAuth &amp; Permissions</strong> to copy your <strong>Bot User OAuth Token</strong> (starts with <code>xoxb-</code>).</p>
                    <div class="warning-box">
                        <strong>Never expose your token!</strong> Store it as an environment variable. Never commit it to Git or share it publicly.
                    </div>
                </div>
            </div>

            <h2>Step 4 &mdash; Set Up Your Project</h2>
            <div class="step">
                <div class="step-number">5</div>
                <div class="step-content">
                    <h3>Initialize a Node.js project with Bolt</h3>
                    <p>Slack's <strong>Bolt framework</strong> handles authentication, event routing, and middleware for you. Set up your project in the terminal:</p>
                    <div class="code-block">
                        <span class="code-label">Terminal</span>
<span class="func">mkdir</span> my-slackbot && <span class="func">cd</span> my-slackbot
<span class="func">npm</span> init -y
<span class="func">npm</span> install @slack/bolt dotenv
                    </div>

                    <h3>Create your <code>.env</code> file</h3>
                    <div class="code-block">
                        <span class="code-label">.env</span>
<span class="prop">SLACK_BOT_TOKEN</span>=<span class="string">xoxb-your-token-here</span>
<span class="prop">SLACK_SIGNING_SECRET</span>=<span class="string">your-signing-secret</span>
<span class="prop">SLACK_APP_TOKEN</span>=<span class="string">xapp-your-app-token</span>
                    </div>
                    <div class="info-box">
                        <strong>Where to find these values:</strong> Bot Token is in <em>OAuth &amp; Permissions</em>. Signing Secret is in <em>Basic Information</em>. App Token (for Socket Mode) is generated in <em>Basic Information &gt; App-Level Tokens</em> with the <code>connections:write</code> scope.
                    </div>
                </div>
            </div>

            <h2>Step 5 &mdash; Write Your Bot Code</h2>
            <div class="step">
                <div class="step-number">6</div>
                <div class="step-content">
                    <h3>Create <code>app.js</code></h3>
                    <p>This minimal app listens for messages, responds to mentions, and handles a slash command:</p>
                    <div class="code-block">
                        <span class="code-label">app.js</span>
<span class="keyword">require</span>(<span class="string">'dotenv'</span>).<span class="func">config</span>();
<span class="keyword">const</span> { <span class="func">App</span> } = <span class="keyword">require</span>(<span class="string">'@slack/bolt'</span>);

<span class="keyword">const</span> app = <span class="keyword">new</span> <span class="func">App</span>({
  <span class="prop">token</span>:          process.env.<span class="prop">SLACK_BOT_TOKEN</span>,
  <span class="prop">signingSecret</span>: process.env.<span class="prop">SLACK_SIGNING_SECRET</span>,
  <span class="prop">socketMode</span>:    <span class="keyword">true</span>,
  <span class="prop">appToken</span>:      process.env.<span class="prop">SLACK_APP_TOKEN</span>,
});

<span class="comment">// Respond when someone mentions the bot</span>
app.<span class="func">event</span>(<span class="string">'app_mention'</span>, <span class="keyword">async</span> ({ event, say }) => {
  <span class="keyword">await</span> <span class="func">say</span>(<span class="string">`Hello &lt;@</span><span class="keyword">${</span>event.user<span class="keyword">}</span><span class="string">&gt;! How can I help?`</span>);
});

<span class="comment">// Handle /status slash command</span>
app.<span class="func">command</span>(<span class="string">'/status'</span>, <span class="keyword">async</span> ({ command, ack, respond }) => {
  <span class="keyword">await</span> <span class="func">ack</span>();
  <span class="keyword">await</span> <span class="func">respond</span>(<span class="string">`All systems operational!`</span>);
});

<span class="comment">// React to "hello" keyword in any message</span>
app.<span class="func">message</span>(<span class="string">'hello'</span>, <span class="keyword">async</span> ({ message, say }) => {
  <span class="keyword">await</span> <span class="func">say</span>(<span class="string">`Hey there &lt;@</span><span class="keyword">${</span>message.user<span class="keyword">}</span><span class="string">&gt;!`</span>);
});

(<span class="keyword">async</span> () => {
  <span class="keyword">await</span> app.<span class="func">start</span>();
  console.<span class="func">log</span>(<span class="string">'Bot is running!'</span>);
})();
                    </div>
                </div>
            </div>

            <h2>Step 6 &mdash; Enable Socket Mode &amp; Events</h2>
            <div class="step">
                <div class="step-number">7</div>
                <div class="step-content">
                    <h3>Enable Socket Mode</h3>
                    <p>In your app settings, go to <strong>Socket Mode</strong> in the left sidebar and toggle it <strong>On</strong>. Socket Mode lets your bot connect without a public URL &mdash; perfect for development and internal bots behind a firewall.</p>

                    <h3>Subscribe to Events</h3>
                    <p>Go to <strong>Event Subscriptions</strong>, toggle <strong>Enable Events</strong> to On, and subscribe to these bot events:</p>
                    <div class="card-grid">
                        <div class="card">
                            <h3><code>app_mention</code></h3>
                            <p>Fires when a user @mentions your bot in a channel.</p>
                        </div>
                        <div class="card">
                            <h3><code>message.channels</code></h3>
                            <p>Fires on every message in public channels the bot has joined.</p>
                        </div>
                        <div class="card">
                            <h3><code>message.im</code></h3>
                            <p>Fires when someone sends a direct message to the bot.</p>
                        </div>
                    </div>

                    <h3>Register Slash Commands</h3>
                    <p>Go to <strong>Slash Commands</strong>, click <strong>Create New Command</strong>, and add:</p>
                    <div class="code-block">
                        <span class="code-label">Slash Command config</span>
<span class="prop">Command</span>:           <span class="string">/status</span>
<span class="prop">Short Description</span>: <span class="string">Check system status</span>
<span class="prop">Usage Hint</span>:         <span class="string">[optional: service name]</span>
                    </div>
                </div>
            </div>

            <h2>Step 7 &mdash; Run &amp; Test</h2>
            <div class="step">
                <div class="step-number">8</div>
                <div class="step-content">
                    <h3>Start your bot</h3>
                    <div class="code-block">
                        <span class="code-label">Terminal</span>
<span class="func">node</span> app.js
<span class="comment"># Output: Bot is running!</span>
                    </div>
                    <p>Open Slack, invite your bot to a channel with <code>/invite @TeamBot</code>, then try:</p>
                    <div class="card-grid">
                        <div class="card">
                            <h3><span class="pill">Test</span> Mention</h3>
                            <p>Type <code>@TeamBot</code> in the channel. The bot should reply with a greeting.</p>
                        </div>
                        <div class="card">
                            <h3><span class="pill">Test</span> Keyword</h3>
                            <p>Type <code>hello</code>. The bot should detect the keyword and respond.</p>
                        </div>
                        <div class="card">
                            <h3><span class="pill">Test</span> Command</h3>
                            <p>Type <code>/status</code>. You should get "All systems operational!" back.</p>
                        </div>
                    </div>
                </div>
            </div>

            <h2>Step 8 &mdash; Deploy to Production</h2>
            <div class="step" style="margin-bottom:0;">
                <div class="step-number">9</div>
                <div class="step-content">
                    <h3>Deployment options</h3>
                    <p>For a professional workspace, you'll want your bot running 24/7. Common approaches:</p>
                    <div class="card-grid">
                        <div class="card">
                            <h3>Cloud VM</h3>
                            <p>Deploy on a cloud instance (AWS EC2, Azure VM, GCP). Use <code>pm2</code> or <code>systemd</code> to keep the process alive.</p>
                        </div>
                        <div class="card">
                            <h3>Containers</h3>
                            <p>Package your bot in a Docker container and deploy to Kubernetes, ECS, or Cloud Run for scalability.</p>
                        </div>
                        <div class="card">
                            <h3>Serverless</h3>
                            <p>If using HTTP mode instead of Socket Mode, deploy to AWS Lambda or Cloudflare Workers for zero-maintenance hosting.</p>
                        </div>
                    </div>
                    <div class="info-box" style="margin-top:20px;">
                        <strong>Pro tip:</strong> For internal company bots, Socket Mode is often the best choice &mdash; no public endpoint needed, no SSL certificates to manage, works behind corporate firewalls.
                    </div>
                </div>
            </div>
        </section>

    </main>

    <script>
        // --- Navigation Logic ---
        const navItems = document.querySelectorAll('.nav-item');
        const sections = document.querySelectorAll('.lesson-section');
        const mobileToggle = document.getElementById('mobile-toggle');
        const sidebar = document.getElementById('sidebar');

        navItems.forEach(item => {
            item.addEventListener('click', () => {
                // Update nav state
                navItems.forEach(nav => nav.classList.remove('active'));
                item.classList.add('active');

                // Update content state
                const targetId = item.getAttribute('data-target');
                sections.forEach(sec => sec.classList.remove('active'));
                document.getElementById(targetId).classList.add('active');

                // Close mobile sidebar if open
                if (window.innerWidth <= 768) {
                    sidebar.classList.remove('open');
                }
            });
        });

        mobileToggle.addEventListener('click', () => {
            sidebar.classList.toggle('open');
        });


        // --- Interactive Slack Lab Logic ---
        const chatInput = document.getElementById('chat-input');
        const sendBtn = document.getElementById('send-btn');
        const chatMessages = document.getElementById('chat-messages');
        const typingIndicator = document.getElementById('typing-indicator');

        function getCurrentTime() {
            const now = new Date();
            let hours = now.getHours();
            let minutes = now.getMinutes();
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? hours : 12; 
            minutes = minutes < 10 ? '0' + minutes : minutes;
            return `${hours}:${minutes} ${ampm}`;
        }

        function appendMessage(text, isBot = false, name = 'You') {
            const msgDiv = document.createElement('div');
            msgDiv.className = 'message';
            
            const avatarHtml = isBot 
                ? `<div class="avatar bot-avatar"><svg viewBox="0 0 24 24" style="fill:white;"><path d="M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-1v1a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2v-1H5a2 2 0 0 1-2-2 2 2 0 0 1 2-2h1a7 7 0 0 1 7-7h1V5.73A2 2 0 0 1 12 2zm-3 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm6 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/></svg></div>`
                : `<div class="avatar user-avatar"><svg viewBox="0 0 24 24" style="fill:white;"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg></div>`;
            
            const badgeHtml = isBot ? `<span class="msg-app-badge">APP</span>` : '';

            msgDiv.innerHTML = `
                ${avatarHtml}
                <div class="msg-content">
                    <div class="msg-header">
                        <span class="msg-name">${name}</span>
                        ${badgeHtml}
                        <span class="msg-time">${getCurrentTime()}</span>
                    </div>
                    <div class="msg-text">${text}</div>
                </div>
            `;
            
            chatMessages.appendChild(msgDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function handleBotResponse(text) {
            const lowerText = text.toLowerCase().trim();
            typingIndicator.classList.add('active');
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Disable input while bot is "typing"
            chatInput.disabled = true;
            sendBtn.disabled = true;

            setTimeout(() => {
                typingIndicator.classList.remove('active');
                chatInput.disabled = false;
                sendBtn.disabled = false;
                chatInput.focus();

                if (lowerText === '/ping') {
                    appendMessage('Pong! üèì', true, 'TutorialBot');
                } else if (lowerText === '/joke') {
                    const jokes = [
                        "Why do programmers prefer dark mode? Because light attracts bugs.",
                        "I would tell you a joke about UDP, but you might not get it.",
                        "There are 10 types of people in the world: those who understand binary, and those who don't."
                    ];
                    const randomJoke = jokes[Math.floor(Math.random() * jokes.length)];
                    appendMessage(randomJoke, true, 'JokeBot');
                } else if (lowerText.includes('hello') || lowerText.includes('hi')) {
                    appendMessage('Hi there! How can I help you automate your workflow today?', true, 'TutorialBot');
                } else if (lowerText === 'help') {
                    appendMessage('Sure! You can try commands like <code>/ping</code>, <code>/joke</code>, or just say <code>hello</code>.', true, 'TutorialBot');
                } else {
                    // Simulate an unexpected message
                    appendMessage("I'm not sure how to respond to that. Try typing <code>help</code>.", true, 'TutorialBot');
                }
            }, 800 + Math.random() * 600); // Random delay between 0.8s and 1.4s
        }

        function handleUserSubmit() {
            const text = chatInput.value.trim();
            if (!text) return;
            
            appendMessage(text, false);
            chatInput.value = '';
            handleBotResponse(text);
        }

        sendBtn.addEventListener('click', handleUserSubmit);
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') handleUserSubmit();
        });


        // --- Quiz Logic ---
        const quizData = [
            {
                question: "Which Slack API feature is best suited for sending a one-time alert to a channel from an external server without needing a response?",
                options: [
                    "Events API",
                    "Incoming Webhooks",
                    "Slash Commands",
                    "Block Kit Builder"
                ],
                correct: 1,
                explanation: "Incoming Webhooks are simple URLs that allow your external application to easily post a JSON payload as a message into a specific Slack channel."
            },
            {
                question: "If you want your bot to listen to every message sent in a channel and respond naturally to specific keywords, which API should you use?",
                options: [
                    "Slash Commands",
                    "Outgoing Webhooks",
                    "Events API",
                    "SCIM API"
                ],
                correct: 2,
                explanation: "The Events API allows you to subscribe to specific events (like `message.channels`). Slack sends an HTTP POST to your server every time that event occurs."
            },
            {
                question: "True or False: A Slack app can read all user messages by default without requiring specific permissions.",
                options: [
                    "True",
                    "False"
                ],
                correct: 1,
                explanation: "False. Slack operates on a granular permission model using OAuth scopes. Your app must explicitly request scopes like `channels:history` and users/admins must approve it."
            }
        ];

        let currentQuestion = 0;
        let score = 0;

        const questionEl = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackEl = document.getElementById('quiz-feedback');
        const nextBtn = document.getElementById('next-btn');
        const scoreEl = document.getElementById('q-score');
        const currentQEl = document.getElementById('q-current');
        const totalQEl = document.getElementById('q-total');

        totalQEl.textContent = quizData.length;

        function loadQuestion() {
            const q = quizData[currentQuestion];
            questionEl.textContent = q.question;
            currentQEl.textContent = currentQuestion + 1;
            
            // Clear previous
            optionsContainer.innerHTML = '';
            feedbackEl.style.display = 'none';
            nextBtn.style.display = 'none';

            q.options.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerHTML = `<span class="pill">${String.fromCharCode(65 + index)}</span> ${opt}`;
                btn.onclick = () => checkAnswer(index, btn);
                optionsContainer.appendChild(btn);
            });
        }

        function checkAnswer(selectedIndex, btnElement) {
            const q = quizData[currentQuestion];
            const isCorrect = selectedIndex === q.correct;
            const allBtns = optionsContainer.querySelectorAll('.option-btn');
            
            // Disable all buttons
            allBtns.forEach((btn, i) => {
                btn.disabled = true;
                btn.style.cursor = 'default';
                if (i === q.correct) {
                    btn.classList.add('correct');
                } else if (i === selectedIndex && !isCorrect) {
                    btn.classList.add('wrong');
                }
            });

            feedbackEl.style.display = 'block';
            if (isCorrect) {
                score++;
                scoreEl.textContent = score;
                feedbackEl.style.backgroundColor = '#e8f5e9';
                feedbackEl.style.color = '#1b5e20';
                feedbackEl.innerHTML = `<strong>Correct!</strong> ${q.explanation}`;
            } else {
                feedbackEl.style.backgroundColor = '#ffebee';
                feedbackEl.style.color = '#b71c1c';
                feedbackEl.innerHTML = `<strong>Incorrect.</strong> ${q.explanation}`;
            }

            nextBtn.style.display = 'block';
            
            if (currentQuestion === quizData.length - 1) {
                nextBtn.textContent = "Finish Course";
            }
        }

        nextBtn.addEventListener('click', () => {
            currentQuestion++;
            if (currentQuestion < quizData.length) {
                loadQuestion();
            } else {
                showResults();
            }
        });

        function showResults() {
            questionEl.textContent = "Course Completed!";
            optionsContainer.innerHTML = '';
            feedbackEl.style.display = 'block';
            feedbackEl.style.backgroundColor = '#e3f2fd';
            feedbackEl.style.color = '#0d47a1';
            feedbackEl.innerHTML = `You scored <strong>${score} out of ${quizData.length}</strong>! <br><br> You now understand the core concepts of building Slack integrations. You're ready to start coding your own bots.`;
            nextBtn.style.display = 'none';
        }

        // Init Quiz
        loadQuestion();

    </script>
</body>
</html>
